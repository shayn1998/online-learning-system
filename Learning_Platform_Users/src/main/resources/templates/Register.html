<!--Html Page for User to Register-->

<!DOCTYPE html>
<html xmlns:th = "http://wwww.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Register Page</title>
	
<script>
    function validateForm() {
        var flag = 0;

        var emailId = document.getElementById("emailId").value;
        var password = document.getElementById("password").value;
        var name = document.getElementById("name").value;
        var mobile = document.getElementById("mobile").value;

        // Validate email
        if (emailId === "") {
            document.getElementById("required_email").innerHTML = "Required field!";
            flag = 1;
        } else if (emailId.length < 5) {
			console.log("inside email not match")
            document.getElementById("required_email").innerHTML = "Email length should be at least 5 characters long";
            flag = 1;
        }

        // Validate password
        if (password === "") {
            document.getElementById("required_password").innerHTML = "Required field!";
            flag = 1;
        } else {
            var passwordPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
            if (!password.match(passwordPattern)) {
				console.log("inside password not match");
                document.getElementById("required_password").innerHTML = "Password should be between 6 to 20 characters and contain at least one numeric digit, one uppercase and one lowercase letter";
                flag = 1;
            }
        }

        // Validate name
        if (name === "") {
            document.getElementById("required_name").innerHTML = "Required field!";
            flag = 1;
        } else if (name.length < 2 || name.length > 35) {
			console.log("inside name not matched")
            document.getElementById("required_name").innerHTML = "Name length should be between 2 to 35 characters long";
            flag = 1;
        }

        // Validate mobile
        if (mobile === "") {
            document.getElementById("required_mobile").innerHTML = "Required field! Please enter 10 digits";
            flag = 1;
        } else {
            var mobilePattern = /^\d{10}$/;
            if (!mobile.match(mobilePattern)) {
				console.log("inside mobile number not match")
                document.getElementById("required_mobile").innerHTML = "Please enter 10 digits";
                flag = 1;
            }
        }

        if (flag === 0) {
            return true;
        } else {
            return false;
        }
    }
</script>

<!-- Include Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <div class="container">
        <h1 class="display-4"><b>Welcome to Register Page</b></h1>
        
        

        <div><h1 th:text="${msg}"></h1></div>
        <br>
        <br>
        <br>
        <br>
        <br>
        
        <form method="post" action="/user/user_registerUser" onsubmit="return validateForm()">
            <div id="required_email"></div>
            <div class="form-group">
                <label for="emailId">Your Email Address:</label>
                <input type="email" id="emailId" name="emailId" class="form-control">
            </div>

            <div id="required_password"></div>
            <div class="form-group">
                <label for="password">Your Password:</label>
                <input type="password" id="password" name="password" class="form-control">
            </div>

            <div id="required_name"></div>
            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" class="form-control">
            </div>

            <div id="required_mobile"></div>
            <div class="form-group">
                <label for="mobile">Mobile:</label>
                <input type="number" id="mobile" name="mobile" class="form-control">
            </div>
            

            <br>
            <br>
            <button type="submit" class="btn btn-primary">Register User</button>
        </form>
    </div>

    <!-- Include Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
