<!-- Edit Details Page for edititng the details  -->             

<!DOCTYPE html>

<html xmlns:th = "http://wwww.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Register Page</title>
	
<script>
    function validateForm() {
        var flag = 0;
        var emailId = document.getElementById("authorEmailId").value;
		var name = document.getElementById("authorName").value;
        var newPassword = document.getElementById("authorNewPassword").value;
        var oldPassword = document.getElementById("authorOldPassword").value;
        
		//validate email        
        if (emailId === "") {
            document.getElementById("required_emailId").innerHTML = "Required field!";
            flag = 1;
        } else if (emailId.length < 5 || emailId.length > 50) {
            document.getElementById("required_emailId").innerHTML = "Email length should be between 5 to 50 characters long";
            flag = 1;
        }
      
        // Validate name
        if (name === "") {
            document.getElementById("required_name").innerHTML = "Required field!";
            flag = 1;
        } else if (name.length < 2 || name.length > 35) {
            document.getElementById("required_name").innerHTML = "Name length should be between 2 to 35 characters long";
            flag = 1;
        }
        
        
        // Validate Old password
        if (oldPassword === "") {
            document.getElementById("required_Old_password").innerHTML = "Required field!";
            flag = 1;
        } 
        
        
        // Validate New password
        if (newPassword === "") {
            document.getElementById("required_New_password").innerHTML = "Required field!";
            flag = 1;
        } else {
            var passwordPattern = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
            if (!newPassword.match(passwordPattern)) {
                document.getElementById("required_New_password").innerHTML = "Password should be between 6 to 20 characters and contain at least one numeric digit, one uppercase and one lowercase letter";
                flag = 1;
            }
        }
        
        if (flag === 0) {
            return true;
        } else {
            return false;
        }
    }
</script>

<!-- Include Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

</head>

<body>
    <div class="container">        
        

        <div><h1 th:text="${msg}"></h1></div>
        <br>
        <br>
        <br>
        <br>
        <br>

        <form method="post" action="/author/author_editingDetails" onsubmit="return validateForm()">
			
			<div id="required_emailId"></div>
            <div class="form-group">
                <label for="authorEmailId">EmailId:</label>
                <input type="email" id="authorEmailId" name="authorEmailId" class="form-control">
            </div>
            
            <div id="required_name"></div>
            <div class="form-group">
                <label for="authorName">Name:</label>
                <input type="text" id="authorName" name="authorName" class="form-control">
            </div>
            
            
            <div id="required_Old_password"></div>
            <div class="form-group">
                <label for="authorOldPassword">Your Old Password:</label>
                <input type="password" id="authorOldPassword" name="authorOldPassword" class="form-control">
            </div>
            
            
            <div id="required_New_password"></div>
            <div class="form-group">
                <label for="authorNewPassword">Your New Password:</label>
                <input type="password" id="authorNewPassword" name="authorNewPassword" class="form-control">
            </div>

            <br>
            <br>
            <button type="submit" class="btn btn-primary" value="Edit Author Details">Edit Author Details</button>
        </form>
    </div>

    <!-- Include Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
